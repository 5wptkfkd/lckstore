<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 EarpEarp</title>
    <link rel="stylesheet" href="styles/style.css">
    <script>
        // 定義商品資料
        const products = {
            "MagSafe手機支架": 420,
            "MagSafe卡匣": 470,
            "果凍手機殼": 350,
            "Z-Flip手機殼": 350,
            "手機支架": 310,
            "貓型圍Q版": 200,
        };

        // 將選擇的商品加入購物車並儲存在 localStorage
        function addToCart() {
            const productSelect = document.getElementById("productSelect");
            const quantityInput = document.getElementById("quantity-product1");
            const selectedProduct = productSelect.value;
            const price = products[selectedProduct];
            const quantity = parseInt(quantityInput.value);

            if (!selectedProduct) {
                alert("請選擇商品！");
                return;
            }

            if (quantity <= 0) {
                alert("數量必須大於 0！");
                return;
            }

            // 從 localStorage 獲取購物車資料
            let cart = JSON.parse(localStorage.getItem("cart")) || [];

            // 檢查購物車中是否已存在該商品
            const existingProduct = cart.find(item => item.name === selectedProduct);
            if (existingProduct) {
                existingProduct.quantity += quantity; // 更新數量
            } else {
                // 添加新商品
                cart.push({ name: selectedProduct, price: price, quantity: quantity });
            }

            // 更新購物車到 localStorage
            localStorage.setItem("cart", JSON.stringify(cart));

            alert(`已將 ${quantity} 個 ${selectedProduct}（$${price}）加入購物車！`);
        }
    </script>
</head>
<body>
    <header>
        <h1>商品頁面</h1>
    </header>

    <main>
        <section>
            <h2>選擇商品</h2>
            <label for="productSelect">請選擇商品：</label>
            <select id="productSelect">
                <option value="" disabled selected>請選擇</option>
                <option value="MagSafe手機支架">MagSafe手機支架 - $420</option>
                <option value="MagSafe卡匣">MagSafe卡匣 - $470</option>
                <option value="果凍手機殼">果凍手機殼 - $350</option>
                <option value="Z-Flip手機殼">Z-Flip手機殼 - $350</option>
                <option value="手機支架">手機支架 - $310</option>
                <option value="貓型圍Q版">貓型圍Q版 - $200</option>
            </select>
            <label for="quantity-product1">數量：</label>
            <input type="number" id="quantity-product1" value="1" min="1" max="10">
            <button onclick="addToCart()">加入購物車</button>
        </section>
    </main>

    <footer>
        <p>© 2025 商店網站</p>
    </footer>
</body>
</html>
